<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Video Player</title>
<style>
body {
  background-color: #000;
  color: #fff;
  font-family: Arial, sans-serif;
  text-align: center;
  margin: 0;
  padding: 20px;
}
h2 { margin-bottom: 20px; }

button {
  margin: 5px;
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 5px;
  border: none;
  background-color: #444;
  color: #fff;
}
button:hover { background-color: #666; }

.embed-container {
  position: relative;
  width: 100%;
  max-width: 800px;
  margin: 20px auto;
  padding-bottom: 56.25%; /* 16:9 aspect ratio */
  height: 0;
  background-color: black;
}

/* Iframe */
.embed-container iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 0;
}

/* Click Blocker Overlay */
.click-blocker {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 999;
  background: transparent;
}

/* Spinner */
.spinner {
  border: 6px solid #f3f3f3;
  border-top: 6px solid #ff0000;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  animation: spin 1s linear infinite;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1000;
}

@keyframes spin {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg); }
}
</style>
</head>
<body>

<h2>Videolar</h2>

<!-- Video Seçim Butonları -->
<button onclick="loadVideo(1)">Video 1</button>
<button onclick="loadVideo(2)">Video 2</button>
<button onclick="loadVideo(3)">Video 3</button>
<button onclick="loadVideo(4)">Video 4</button>
<button onclick="loadVideo(5)">Video 5</button>

<div class="embed-container" id="videoContainer">
  <!-- Spinner başta görünür -->
  <div class="spinner" id="spinner"></div>
</div>

<script>
// Pornhub embed linkleri (optimize parametreler eklendi)
const videos = {
  1: "https://www.pornhub.com/embed/69630dd1c61d5?autoplay=1&player=true&embedplayer=true&noads=1",
  2: "https://www.pornhub.com/embed/695c1234567890?autoplay=1&player=true&embedplayer=true&noads=1",
  3: "https://www.pornhub.com/embed/694babcdef1234?autoplay=1&player=true&embedplayer=true&noads=1",
  4: "https://www.pornhub.com/embed/693a9876543210?autoplay=1&player=true&embedplayer=true&noads=1",
  5: "https://www.pornhub.com/embed/692f123abc9876?autoplay=1&player=true&embedplayer=true&noads=1"
};

function loadVideo(n){
  const container = document.getElementById("videoContainer");
  container.innerHTML = ""; // Önceki her şeyi sil

  // Spinner ekle
  const spinner = document.createElement("div");
  spinner.className = "spinner";
  spinner.id = "spinner";
  container.appendChild(spinner);

  // Click Blocker Overlay ekle
  const blocker = document.createElement("div");
  blocker.className = "click-blocker";
  blocker.id = "clickBlocker";
  container.appendChild(blocker);

  // Iframe oluştur
  const iframe = document.createElement("iframe");
  iframe.id = "phPlayer";
  iframe.src = videos[n];
  iframe.allowFullscreen = true;
  iframe.allow = "autoplay; encrypted-media";

  // **ANA BÖLÜM: CLICK BLOCKER + DIRECTION BLOCK**
  iframe.onload = function() {
    // Spinner'ı gizle
    const sp = document.getElementById("spinner");
    if(sp) sp.style.display = "none";

    const playerIframe = document.getElementById("phPlayer");
    const blockerOverlay = document.getElementById("clickBlocker");

    // 1. Container-level click block
    container.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      return false;
    }, true);

    // 2. Iframe click block
    playerIframe.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      return false;
    });

    // 3. Sürekli iframe içi linkleri disable et (en etkili kısım)
    const killPornhubLinks = setInterval(() => {
      try {
        const iframeDoc = playerIframe.contentDocument || playerIframe.contentWindow.document;
        
        // Pornhub linkleri, butonlar, iconlar
        const badLinks = iframeDoc.querySelectorAll(`
          a[href*="pornhub.com"],
          a[href*="view_video"],
          .icon-external,
          .watch-on-ph,
          .ph-icon-external,
          [onclick*="pornhub"],
          button[onclick*="redirect"]
        `);
        
        badLinks.forEach(link => {
          link.style.pointerEvents = 'none !important';
          link.style.cursor = 'default !important';
          link.onclick = () => false;
          link.href = 'javascript:void(0)';
        });

        // Player overlay'leri gizle (isteğe bağlı)
        const overlays = iframeDoc.querySelectorAll('.player-overlay, .promo-overlay');
        overlays.forEach(overlay => overlay.style.display = 'none');
        
      } catch(e) {
        // CORS normal, ignore et
      }
    }, 800); // Her 0.8 saniyede tarama

    // 45 saniye sonra interval'ı temizle (performans)
    setTimeout(() => clearInterval(killPornhubLinks), 45000);
  };

  container.appendChild(iframe);
}

// Sayfa açıldığında 1. video yüklensin
loadVideo(1);
</script>

</body>
</html>
